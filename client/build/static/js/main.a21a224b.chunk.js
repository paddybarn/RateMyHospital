(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var s,c,n,r,i=a(1),l=a.n(i),o=a(57),d=a.n(o),j=(a(79),a(80),a(67),a(112)),b=a(114),h=a(111),m=a(8),u=a(15),x=a(12),O=a(29),p=a(9),v=a(18),f=a(108),g=a(37),N=a(113),w=Object(N.a)(s||(s=Object(g.a)(["\nmutation Login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    token\n    user {\n      _id\n      username\n      email\n    }\n  }\n}\n\n"]))),y=Object(N.a)(c||(c=Object(g.a)(["\nmutation createUser($username: String, $email: String, $password: String) {\ncreateUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n}\n"]))),k=Object(N.a)(n||(n=Object(g.a)(["\nmutation Mutation($reviewText: String!, $reviewAuthor: String!, $hospitalId: ID, $hospitalRating: Int) {\n    addReview(reviewText: $reviewText, reviewAuthor: $reviewAuthor, hospitalId: $hospitalId, hospitalRating: $hospitalRating) {\n      _id\n      reviews {\n        reviewAuthor\n        reviewText\n        hospitalRating\n      }\n    }\n  }\n "]))),S=a(26),R=a(27),I=a(58),H=new(function(){function e(){Object(S.a)(this,e)}return Object(R.a)(e,[{key:"getProfile",value:function(){return Object(I.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return Object(I.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),$=a(2),C=function(e){var t=Object(i.useState)({email:"",password:""}),a=Object(p.a)(t,2),s=a[0],c=a[1],n=Object(f.a)(w),r=Object(p.a)(n,2),l=r[0],o=r[1],d=o.error,j=o.data,b=function(e){var t=e.target,a=t.name,n=t.value;c(Object(O.a)(Object(O.a)({},s),{},Object(x.a)({},a,n)))},h=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var a,n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(s),e.prev=2,e.next=5,l({variables:Object(O.a)({},s)});case 5:a=e.sent,n=a.data,H.login(n.login.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:c({email:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object($.jsx)("main",{className:"flex-row justify-center mb-4",children:Object($.jsx)("div",{className:"col-12 col-lg-10",children:Object($.jsxs)("div",{className:"card",children:[Object($.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Login"}),Object($.jsxs)("div",{className:"card-body",children:[j?Object($.jsxs)("p",{children:["Success! You may now head"," ",Object($.jsx)(v.b,{to:"/feed",children:"straight to the feed!"})]}):Object($.jsxs)("form",{onSubmit:h,children:[Object($.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:s.email,onChange:b}),Object($.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:s.password,onChange:b}),Object($.jsx)("button",{className:"btn btn-block btn-info",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),d&&Object($.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:d.message})]})]})})})},T=function(){return Object($.jsx)("main",{children:Object($.jsx)("div",{className:"flex-row justify-center",children:Object($.jsx)("div",{className:"col-12 col-md-10 mb-3 p-3",style:{border:"1px dotted #1a1a1a"},children:Object($.jsx)(C,{})})})})},_=function(){return Object($.jsx)("div",{children:Object($.jsx)("p",{children:"Welcome to Rate Your Boss! As a travelling nurse, it can be difficult to tell when a contract you're offered is too good to be true, and more often than not it seems to turn out too good to be true! Here on Rate Your Boss, you can see the reviews of hospitals of all kind, reviews made entirely by travelling nurses like yourself! Every hospital has a short list of ratings so that you can make sure that whatever hospital you look for is perfect for what YOU need. Sign up and start reviewing today!"})})},A=function(){return Object($.jsx)("main",{children:Object($.jsx)(_,{})})},Y=function(){var e=Object(i.useState)({username:"",email:"",password:"",rnNumber:""}),t=Object(p.a)(e,2),a=t[0],s=t[1],c=Object(f.a)(y),n=Object(p.a)(c,2),r=n[0],l=n[1],o=l.error,d=l.data,j=function(e){var t=e.target,c=t.name,n=t.value;s(Object(O.a)(Object(O.a)({},a),{},Object(x.a)({},c,n)))},b=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,r({variables:Object(O.a)({},a)});case 4:s=e.sent,c=s.data,H.login(c.addProfile.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object($.jsx)("main",{className:"flex-row justify-center mb-4",children:Object($.jsx)("div",{className:"col-12 col-lg-10",children:Object($.jsxs)("div",{className:"card",children:[Object($.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Sign Up"}),Object($.jsxs)("div",{className:"card-body",children:[d?Object($.jsxs)("p",{children:["Success! You may now head"," ",Object($.jsx)(v.b,{to:"/",children:"back to the homepage."})]}):Object($.jsxs)("form",{onSubmit:b,children:[Object($.jsx)("input",{className:"form-input",placeholder:"Your User Name",name:"username",type:"text",value:a.username,onChange:j}),Object($.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:a.email,onChange:j}),Object($.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:a.password,onChange:j}),Object($.jsx)("input",{className:"form-input",placeholder:"Your RN Number",name:"rnNumber",type:"text",value:a.rnNumber,onChange:j}),Object($.jsx)("button",{className:"btn btn-block btn-info",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),o&&Object($.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:o.message})]})]})})})},P=function(){return Object($.jsx)("main",{children:Object($.jsx)("div",{className:"flex-row justify-center",children:Object($.jsx)("div",{className:"col-12 col-md-10 mb-3 p-3",style:{border:"1px dotted #1a1a1a"},children:Object($.jsx)(Y,{})})})})},D=function(){return Object($.jsx)("header",{className:"bg-primary text-light mb-4 py-3 flex-row align-center",children:Object($.jsx)("div",{className:"container flex-row justify-center align-center",children:Object($.jsx)("h1",{className:"m-0",children:"HomePage"})})})},U=function(){return Object($.jsx)("footer",{className:"w-100 mt-auto bg-secondary p-4",children:Object($.jsx)("div",{className:"container text-center mb-5",children:Object($.jsxs)("h4",{children:["Made with"," ",Object($.jsx)("span",{className:"emoji",role:"img","aria-label":"heart","aria-hidden":"false",children:"\u2764\ufe0f"})," ","by the Receding Hairlines team."]})})})},E=a(115),L=Object(N.a)(r||(r=Object(g.a)(["\nquery Query {\n  hospital {\n    _id\n    hospitalName\n    location\n    reviews {\n      _id\n      reviewAuthor\n      reviewText\n      hospitalRating\n    }\n  }\n}\n"])));var B=function(){var e=[],t=[],a=Object(E.a)(L).data;if(a)for(var s=0;s<a.hospital.length;s++)a&&(console.log(a),t[s]=a.hospital[s].location,e[s]=a.hospital[s].hospitalName);return Object($.jsxs)("div",{className:"flex",children:[Object($.jsx)("div",{className:"card thin",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e[0]}),Object($.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t[0]}),Object($.jsx)(v.b,{to:"/feed/firstHospital/0",children:Object($.jsx)("p",{className:"card-link",children:"reviews"})})]})}),Object($.jsx)("div",{className:"card thin",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e[1]}),Object($.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t[1]}),Object($.jsx)("a",{href:"/feed/firstHospital/1",className:"card-link",children:"reviews"})]})}),Object($.jsx)("div",{className:"card thin",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e[2]}),Object($.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t[2]}),Object($.jsx)("a",{href:"/feed/firstHospital/2",className:"card-link",children:"reviews"})]})}),Object($.jsx)("div",{className:"card thin",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e[3]}),Object($.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t[3]}),Object($.jsx)("a",{href:"/feed/firstHospital/3",className:"card-link",children:"reviews"})]})}),Object($.jsx)("div",{className:"card thin",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e[4]}),Object($.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t[4]}),Object($.jsx)("a",{href:"/feed/firstHospital/4",className:"card-link",children:"reviews"})]})}),Object($.jsx)("div",{className:"card thin",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e[5]}),Object($.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t[5]}),Object($.jsx)("a",{href:"/feed/firstHospital/5",className:"card-link",children:"reviews"})]})}),Object($.jsx)("div",{className:"card thin",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e[6]}),Object($.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t[6]}),Object($.jsx)("a",{href:"/feed/firstHospital/6",className:"card-link",children:"reviews"})]})}),Object($.jsx)("div",{className:"card thin",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e[7]}),Object($.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t[7]}),Object($.jsx)("a",{href:"/feed/firstHospital/7",className:"card-link",children:"reviews"})]})}),Object($.jsx)("div",{className:"card thin",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e[8]}),Object($.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t[8]}),Object($.jsx)("a",{href:"/feed/firstHospital/8",className:"card-link",children:"reviews"})]})}),Object($.jsx)("div",{className:"card thin",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e[9]}),Object($.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:t[9]}),Object($.jsx)("a",{href:"/feed/firstHospital/9",className:"card-link",children:"reviews"})]})})]})},M=a(6);var q=function(e){var t=e.reviewAuthor,a=e.reviewText,s=(e._id,e.hospitalRating);return Object($.jsx)("div",{className:"card thin",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsxs)("h5",{className:"card-title",children:["Review Author: ",t]}),Object($.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:a}),Object($.jsxs)("p",{children:["Rating: ",s]})]})})},J=function(e){var t=e.hospitalId,a=Object(i.useState)(""),s=Object(p.a)(a,2),c=s[0],n=s[1],r=Object(i.useState)(""),l=Object(p.a)(r,2),o=l[0],d=l[1],j=Object(f.a)(k),b=Object(p.a)(j,2),h=b[0],x=(b[1].error,function(){var e=Object(u.a)(Object(m.a)().mark((function e(a){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,h({variables:{hospitalId:t,reviewText:c,reviewAuthor:H.getProfile().data.username,hospitalRating:o}});case 4:s=e.sent,s.data,n(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),O=function(e){var t=e.target,a=(t.name,t.value);Number(a),d(Number(a)),console.log(typeof Number(a))};return Object($.jsx)("div",{children:H.loggedIn()?Object($.jsxs)("form",{onSubmit:x,children:[Object($.jsx)("input",{className:"form-input",placeholder:"Your text here...",name:"review",type:"text",value:c,onChange:function(e){var t=e.target,a=(t.name,t.value);n(a)}}),Object($.jsx)("input",{name:"hospitalRating",type:"radio",value:"1",onChange:O})," 1 ",Object($.jsx)("br",{}),Object($.jsx)("input",{name:"hospitalRating",type:"radio",value:"2",onChange:O})," 2 ",Object($.jsx)("br",{}),Object($.jsx)("input",{name:"hospitalRating",type:"radio",value:"3",onChange:O})," 3 ",Object($.jsx)("br",{}),Object($.jsx)("input",{name:"hospitalRating",type:"radio",value:"4",onChange:O})," 4 ",Object($.jsx)("br",{}),Object($.jsx)("input",{name:"hospitalRating",type:"radio",value:"5",onChange:O})," 5 ",Object($.jsx)("br",{}),Object($.jsx)("button",{className:"btn btn-block btn-info",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}):Object($.jsxs)("p",{children:["You need to be logged in to share your thoughts. Please"," ",Object($.jsx)(v.b,{to:"/login",children:"login"})," or ",Object($.jsx)(v.b,{to:"/signup",children:"signup."})]})})},V=function(){var e=Object(M.o)().id,t=Object(E.a)(L).data,a="",s="",c=[],n="";t&&(c=t.hospital[e].reviews,s=t.hospital[e].location,a=t.hospital[e].hospitalName,n=t.hospital[e]._id);var r=0;return Object($.jsxs)("div",{children:[Object($.jsx)("h2",{children:a}),Object($.jsx)("h3",{children:s}),Object($.jsxs)("h4",{children:["Hospital Average Rating: ",function(e){for(var t=0;t<e.length;t++)r+=e[t].hospitalRating;return r/e.length}(c)]}),Object($.jsx)("h5",{children:"Reviews"}),Object($.jsx)("div",{children:c.map((function(e){return Object($.jsx)(q,{_id:e._id,reviewAuthor:e.reviewAuthor,reviewText:e.reviewText,hospitalRating:e.hospitalRating},e._id)}))}),Object($.jsx)("h4",{children:"Add a Review"}),Object($.jsx)("div",{children:Object($.jsx)(J,{hospitalId:n})})]})},W=a(62),Q=function(e){return!1===H.loggedIn()?Object($.jsxs)(W.slide,{children:[Object($.jsx)("a",{className:"menu-item",href:"/",children:"Home Page"}),Object($.jsx)("a",{className:"menu-item",href:"/login",children:"Log In"}),Object($.jsx)("a",{className:"menu-item",href:"/signup",children:"Sign Up"}),Object($.jsx)("a",{className:"menu-item",href:"/feed",children:"View Hospitals"})]}):!0===H.loggedIn()?Object($.jsxs)(W.slide,{children:[Object($.jsx)("a",{className:"menu-item",href:"/",children:"Home Page"}),Object($.jsx)("a",{className:"menu-item",href:"/",onClick:function(e){e.preventDefault(),H.logout()},children:"Log Out"}),Object($.jsx)("a",{className:"menu-item",href:"/feed",children:"View Hospitals"})]}):void 0},z=(a(101),new j.a({uri:"/graphql",cache:new b.a}));var F=function(){return Object($.jsx)(h.a,{client:z,children:Object($.jsxs)(v.a,{children:[Object($.jsx)(Q,{pageWrapId:"page-wrap",outerContainerId:"outer-container"}),Object($.jsxs)("div",{className:"flex-column justify-flex-start min-100-vh",children:[Object($.jsx)(D,{}),Object($.jsx)("div",{className:"container",children:Object($.jsxs)(M.c,{children:[Object($.jsx)(M.a,{path:"/",element:Object($.jsx)(A,{})}),Object($.jsx)(M.a,{path:"/login",element:Object($.jsx)(T,{})}),Object($.jsx)(M.a,{path:"/signup",element:Object($.jsx)(P,{})}),Object($.jsx)(M.a,{path:"/feed",element:Object($.jsx)(B,{})}),Object($.jsx)(M.a,{path:"/feed/firstHospital/:id",element:Object($.jsx)(V,{})})]})}),Object($.jsx)(U,{})]})]})})};d.a.render(Object($.jsx)(l.a.StrictMode,{children:Object($.jsx)(F,{})}),document.getElementById("root"))},67:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.a21a224b.chunk.js.map